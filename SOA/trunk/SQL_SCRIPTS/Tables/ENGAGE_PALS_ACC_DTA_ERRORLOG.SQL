<!--To be run on SOA DB-->

CREATE TABLE "SOACUSTOM"."ENGAGE_PALS_ACC_DTA_ERRORLOG"
  (
    "DELTA_TS" TIMESTAMP (6) NOT NULL ENABLE,
    "ACCOUNT_ID"             VARCHAR2(10 BYTE),
    "PARTNER_ID"             VARCHAR2(8 BYTE),
    "ACCOUNT_CUSTOMER_GROUP" VARCHAR2(2 BYTE),
    "SOA_ERROR_CODE"         VARCHAR2(20 BYTE) NOT NULL ENABLE,
    "SOA_ERROR_DESC"         VARCHAR2(300 BYTE),
    "UPDATED_BY"             VARCHAR2(40 BYTE),
    "UPDATED_TIMESTAMP" TIMESTAMP (6),
    "EMAIL_FLAG"        NUMBER,
    "DELTA_RECIPT_FLAG" NUMBER,
    "COUNTRY_CODE"      VARCHAR2(2 BYTE),
    CONSTRAINT "ENGAGE_PALS_ACC_DTA_ERROR_PK" PRIMARY KEY ("DELTA_TS", "SOA_ERROR_CODE") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "SOACUSTOM" ENABLE
  )
  SEGMENT CREATION IMMEDIATE PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT
  )
  TABLESPACE "SOACUSTOM" ;
CREATE OR REPLACE TRIGGER "SOACUSTOM"."ACC_DTA_ERRORLOG_TRG" BEFORE
  INSERT OR
  UPDATE ON ENGAGE_PALS_ACC_DTA_ERRORLOG FOR EACH ROW BEGIN :new.UPDATED_TIMESTAMP := CURRENT_TIMESTAMP;
  :new.UPDATED_BY                                                                  := SYS_CONTEXT('USERENV','OS_USER');
END;
/
ALTER TRIGGER "SOACUSTOM"."ACC_DTA_ERRORLOG_TRG" ENABLE;